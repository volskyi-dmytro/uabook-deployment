version: "3.8"
services:
 catalog-service:
  depends_on:
   - uabook-postgres
  image: "catalog-service"
  container_name: "catalog-service"
  ports:
   - 9001:9001
   - 8001:8001
  environment: 
   - BPL_JVM_THREAD_COUNT=50
   - BPL_DEBUG_ENABLED=true
   - BPL_DEBUG_PORT=8001
   - SPRING_DATASOURCE_URL=jdbc:postgresql://uabook-postgres:5432/uabookdb_catalog
   - SPRING_PROFILES_ACTIVE=testdata
 uabook-postgres:
  image: "postgres:14.4"
  container_name: "uabook-postgres"
  ports:
   - 5432:5432
  environment:
   - POSTGRES_USER=user
   - POSTGRES_PASSWORD=password
   - POSTGRES_DB=uabookdb_catalog
